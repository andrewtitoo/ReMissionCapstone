<div class="dashboard-container">
  <h1>Your Symptom Dashboard</h1>
  <blockquote>
    "The human spirit is stronger than anything that can happen to it." <br />
    <small>- C.C. Scott</small>
  </blockquote>

  <div *ngIf="loading" class="loading">Loading data...</div>
  <div *ngIf="errorMessage" class="error-message">{{ errorMessage }}</div>

  <div class="visualizations-container" *ngIf="!loading && !errorMessage">
    <!-- Visualization 1: Summary Statistics -->
    <div class="stat-summary">
      <h3>Summary Statistics</h3>
      <p>Average Pain Level: {{ avgPainLevel }}</p>
      <p>Average Stress Level: {{ avgStressLevel }}</p>
      <p>Average Sleep Hours: {{ avgSleepHours }}</p>
    </div>

    <!-- Visualization 2: Tabular View with Conditional Formatting -->
    <div class="table-container">
      <h3>Symptom Log Overview</h3>
      <table>
        <thead>
        <tr>
          <th>Date</th>
          <th>Pain Level</th>
          <th>Stress Level</th>
          <th>Sleep Hours</th>
          <th>Flare Up</th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let log of symptomLogs" [class.flare]="log.flare_up">
          <td>{{ log.logged_at }}</td>
          <td>{{ log.pain_level }}</td>
          <td>{{ log.stress_level }}</td>
          <td>{{ log.sleep_hours }}</td>
          <td>{{ log.flare_up ? 'Yes' : 'No' }}</td>
        </tr>
        </tbody>
      </table>
    </div>

    <!-- Visualization 3: Insights Summary -->
    <div class="insights">
      <h3>Key Insights</h3>
      <p *ngFor="let insight of insights">{{ insight }}</p>
    </div>
  </div>
</div>
